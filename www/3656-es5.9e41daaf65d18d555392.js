!function(){function n(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function e(n){return function(n){if(Array.isArray(n))return t(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function(n,e){if(!n)return;if("string"==typeof n)return t(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);"Object"===r&&n.constructor&&(r=n.constructor.name);if("Map"===r||"Set"===r)return Array.from(n);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t(n,e)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function r(n,e,t,r,o,i,u){try{var c=n[i](u),a=c.value}catch(s){return void t(s)}c.done?e(a):Promise.resolve(a).then(r,o)}function o(n){return function(){var e=this,t=arguments;return new Promise(function(o,i){var u=n.apply(e,t);function c(n){r(u,o,i,c,a,"next",n)}function a(n){r(u,o,i,c,a,"throw",n)}c(void 0)})}}function i(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function u(n,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n):e}function c(n){var e="function"==typeof Map?new Map:void 0;return(c=function(n){if(null===n||(t=n,-1===Function.toString.call(t).indexOf("[native code]")))return n;var t;if("function"!=typeof n)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(n))return e.get(n);e.set(n,r)}function r(){return a(n,arguments,f(this).constructor)}return r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),l(r,n)})(n)}function a(n,e,t){return(a=s()?Reflect.construct:function(n,e,t){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(n,r));return t&&l(o,t.prototype),o}).apply(null,arguments)}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}function l(n,e){return(l=Object.setPrototypeOf||function(n,e){return n.__proto__=e,n})(n,e)}function f(n){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}(self.webpackChunkpush_notification=self.webpackChunkpush_notification||[]).push([[3656],{645:function(t,r,a){"use strict";a.r(r),a.d(r,{DashboardPageModule:function(){return H}});var d,p=a(1116),g=a(1462),v=a(4812),h=a(7767);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global&&global,function(n){n.Unimplemented="UNIMPLEMENTED",n.Unavailable="UNAVAILABLE"}(d||(d={}));var m,b=function(n){!function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&l(n,e)}(o,n);var e,t,r=(e=o,t=s(),function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)});function o(n,e){var t;return i(this,o),(t=r.call(this,n)).message=n,t.code=e,t}return o}(c(Error)),y=function(n){var e,t;return(null==n?void 0:n.androidBridge)?"android":(null===(t=null===(e=null==n?void 0:n.webkit)||void 0===e?void 0:e.messageHandlers)||void 0===t?void 0:t.bridge)?"ios":"web"},w=(0,(m="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},m.Capacitor=function(n){var t,r,i,u,c,a=n.Capacitor||{},s=a.Plugins=a.Plugins||{},l=n.CapacitorPlatforms,f=(null===(t=null==l?void 0:l.currentPlatform)||void 0===t?void 0:t.getPlatform)||function(){return y(n)},p=(null===(r=null==l?void 0:l.currentPlatform)||void 0===r?void 0:r.isNativePlatform)||function(){return"web"!==y(n)},g=(null===(i=null==l?void 0:l.currentPlatform)||void 0===i?void 0:i.isPluginAvailable)||function(n){var e=h.get(n);return!!(null==e?void 0:e.platforms.has(f()))||!!v(n)},v=(null===(u=null==l?void 0:l.currentPlatform)||void 0===u?void 0:u.getPluginHeader)||function(n){var e;return null===(e=a.PluginHeaders)||void 0===e?void 0:e.find(function(e){return e.name===n})},h=new Map,m=(null===(c=null==l?void 0:l.currentPlatform)||void 0===c?void 0:c.registerPlugin)||function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=h.get(n);if(r)return console.warn('Capacitor plugin "'.concat(n,'" already registered. Cannot register plugins twice.')),r.proxy;var i,u=f(),c=v(n),l=function(e){var r,s=function(){for(var s=arguments.length,l=new Array(s),f=0;f<s;f++)l[f]=arguments[f];var p=o(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=!i&&u in t,!n.t0){n.next=10;break}if("function"!=typeof t[u]){n.next=8;break}return n.next=5,t[u]();case 5:n.t1=n.sent,n.next=9;break;case 8:n.t1=t[u];case 9:i=i=n.t1;case 10:return n.abrupt("return",i);case 11:case"end":return n.stop()}},n)}))().then(function(t){var o=function(e,t){var r,o;if(!c){if(e)return null===(o=e[t])||void 0===o?void 0:o.bind(e);throw new b('"'.concat(n,'" plugin is not implemented on ').concat(u),d.Unimplemented)}var i=null==c?void 0:c.methods.find(function(n){return t===n.name});return i?"promise"===i.rtype?function(e){return a.nativePromise(n,t.toString(),e)}:function(e,r){return a.nativeCallback(n,t.toString(),e,r)}:e?null===(r=e[t])||void 0===r?void 0:r.bind(e):void 0}(t,e);if(o){var i=o.apply(void 0,l);return r=null==i?void 0:i.remove,i}throw new b('"'.concat(n,".").concat(e,'()" is not implemented on ').concat(u),d.Unimplemented)});return"addListener"===e&&(p.remove=o(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",r());case 1:case"end":return n.stop()}},n)}))),p};return s.toString=function(){return"".concat(e.toString(),"() { [capacitor code] }")},Object.defineProperty(s,"name",{value:e,writable:!1,configurable:!1}),s},p=l("addListener"),g=l("removeListener"),m=function(n,e){var t=p({eventName:n},e),r=function(){var r=o(regeneratorRuntime.mark(function r(){var o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t;case 2:o=r.sent,g({eventName:n,callbackId:o},e);case 4:case"end":return r.stop()}},r)}));return function(){return r.apply(this,arguments)}}(),i=new Promise(function(n){return t.then(function(){return n({remove:r})})});return i.remove=o(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return console.warn("Using addListener() without 'await' is deprecated."),n.next=3,r();case 3:case"end":return n.stop()}},n)})),i},y=new Proxy({},{get:function(n,e){switch(e){case"$$typeof":return;case"addListener":return c?m:p;case"removeListener":return g;default:return l(e)}}});return s[n]=y,h.set(n,{name:n,proxy:y,platforms:new Set([].concat(e(Object.keys(t)),e(c?[u]:[])))}),y};return a.convertFileSrc||(a.convertFileSrc=function(n){return n}),a.getPlatform=f,a.handleError=function(e){return n.console.error(e)},a.isNativePlatform=p,a.isPluginAvailable=g,a.pluginMethodNoop=function(n,e,t){return Promise.reject("".concat(t,' does not have an implementation of "').concat(e,'".'))},a.registerPlugin=m,a.Exception=b,a.DEBUG=!!a.DEBUG,a.isLoggingEnabled=!!a.isLoggingEnabled,a.platform=a.getPlatform(),a.isNative=a.isNativePlatform(),a}(m)).registerPlugin)("PushNotifications",{}),P=a(5366),x=a(2590),N=a(7740),k=function(n,e){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])})(n,e)},T=a(8318),A=a(7254),O={error:"cordova_not_available"},S={error:"plugin_not_installed"};function _(n){if("undefined"!=typeof window&&window.angular){var e=window.document,t=window.angular.element(e.querySelector("[ng-app]")||e.body).injector();if(t)return t.get("$q")(function(e,t){n(e,t)});console.warn("Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.")}return function(){if(Promise)return new Promise(function(e,t){n(e,t)});console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")}()}function I(n,e,t,r){var o,i;void 0===r&&(r={});var u=_(function(u,c){o=r.destruct?M(n,e,t,r,function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return u(n)},function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return c(n)}):M(n,e,t,r,u,c),i=c});return o&&o.error&&(u.catch(function(){}),"function"==typeof i&&i(o.error)),u}function C(n,e,t,r){return void 0===r&&(r={}),_(function(o,i){var u=M(n,e,t,r);u?u.error?i(u.error):u.then&&u.then(o).catch(i):i({error:"unexpected_error"})})}function R(n,e,t,r){return void 0===r&&(r={}),new T.y(function(o){var i;return(i=r.destruct?M(n,e,t,r,function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return o.next(n)},function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return o.error(n)}):M(n,e,t,r,o.next.bind(o),o.error.bind(o)))&&i.error&&(o.error(i.error),o.complete()),function(){try{if(r.clearFunction)return r.clearWithArgs?M(n,r.clearFunction,t,r,o.next.bind(o),o.error.bind(o)):M(n,r.clearFunction,[])}catch(i){console.warn("Unable to clear the previous observable watch for",n.constructor.getPluginName(),e),console.warn(i)}}})}function Z(n,e){return e="undefined"!=typeof window&&e?q(window,e):e||("undefined"!=typeof window?window:{}),(0,A.R)(e,n)}function j(n,e,t){var r,o,i;return"string"==typeof n?r=n:(r=n.constructor.getPluginRef(),t=n.constructor.getPluginName(),i=n.constructor.getPluginInstallName()),!(!(o=E(r))||e&&void 0===o[e])||("undefined"!=typeof window&&window.cordova?(function(n,e,t){t?console.warn("Native: tried calling "+n+"."+t+", but the "+n+" plugin is not installed."):console.warn("Native: tried accessing the "+n+" plugin but it's not installed."),e&&console.warn("Install the "+n+" plugin: 'ionic cordova plugin add "+e+"'")}(t,i,e),S):(function(n,e){"undefined"==typeof process&&(e?console.warn("Native: tried calling "+n+"."+e+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator"):console.warn("Native: tried accessing the "+n+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator"))}(t,e),O))}function M(n,e,t,r,o,i){void 0===r&&(r={}),t=function(n,e,t,r){if(void 0===e&&(e={}),e.sync)return n;if("reverse"===e.callbackOrder)n.unshift(r),n.unshift(t);else if("node"===e.callbackStyle)n.push(function(n,e){n?r(n):t(e)});else if("object"===e.callbackStyle&&e.successName&&e.errorName){var o={};o[e.successName]=t,o[e.errorName]=r,n.push(o)}else if(void 0!==e.successIndex||void 0!==e.errorIndex){var i=function(){e.successIndex>n.length?n[e.successIndex]=t:n.splice(e.successIndex,0,t)},u=function(){e.errorIndex>n.length?n[e.errorIndex]=r:n.splice(e.errorIndex,0,r)};e.successIndex>e.errorIndex?(u(),i()):(i(),u())}else n.push(t),n.push(r);return n}(t,r,o,i);var u=j(n,e);if(!0===u){var c=E(n.constructor.getPluginRef());return c[e].apply(c,t)}return u}function E(n){return"undefined"!=typeof window?q(window,n):null}function q(n,e){for(var t=e.split("."),r=n,o=0;o<t.length;o++){if(!r)return null;r=r[t[o]]}return r}var U=function(){function n(){}return n.installed=function(){return!0===j(this.pluginRef)},n.getPlugin=function(){return"undefined"!=typeof window?function(n,e){for(var t=e.split("."),r=n,o=0;o<t.length;o++){if(!r)return null;r=r[t[o]]}return r}(window,this.pluginRef):null},n.getPluginName=function(){return this.pluginName},n.getPluginRef=function(){return this.pluginRef},n.getPluginInstallName=function(){return this.plugin},n.getSupportedPlatforms=function(){return this.platforms},n.pluginName="",n.pluginRef="",n.plugin="",n.repo="",n.platforms=[],n.install="",n}();function F(n,e,t,r){return function(n,e,t){return void 0===t&&(t={}),function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return t.sync?M(n,e,r,t):t.observable?R(n,e,r,t):t.eventObservable&&t.event?Z(t.event,t.element):t.otherPromise?C(n,e,r,t):I(n,e,r,t)}}(n,e,t).apply(this,r)}!function(){if("undefined"==typeof process){var n="undefined"!=typeof window?window:{},e=Date.now(),t=!1;n.document.addEventListener("deviceready",function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-e)+" ms"),t=!0}),setTimeout(function(){!t&&n.cordova&&console.warn("Ionic Native: deviceready did not fire within 5000ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")},5e3)}}();var L=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=n}k(n,e),n.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}(e,n),e.prototype.getAPNSToken=function(){return F(this,"getAPNSToken",{},arguments)},e.prototype.getToken=function(){return F(this,"getToken",{},arguments)},e.prototype.onTokenRefresh=function(){return F(this,"onTokenRefresh",{observable:!0},arguments)},e.prototype.subscribeToTopic=function(n){return F(this,"subscribeToTopic",{},arguments)},e.prototype.unsubscribeFromTopic=function(n){return F(this,"unsubscribeFromTopic",{},arguments)},e.prototype.hasPermission=function(){return F(this,"hasPermission",{},arguments)},e.prototype.onNotification=function(){return F(this,"onNotification",{observable:!0,successIndex:0,errorIndex:2},arguments)},e.prototype.clearAllNotifications=function(){return F(this,"clearAllNotifications",{},arguments)},e.prototype.requestPushPermissionIOS=function(n){return F(this,"requestPushPermissionIOS",{},arguments)},e.prototype.createNotificationChannelAndroid=function(n){return F(this,"createNotificationChannelAndroid",{},arguments)},e.pluginName="FCM",e.plugin="cordova-plugin-fcm-with-dependecy-updated",e.pluginRef="FCMPlugin",e.repo="https://github.com/andrehtissot/cordova-plugin-fcm-with-dependecy-updated",e.platforms=["Android","iOS"],e.\u0275fac=function(n){return(t||(t=P.n5z(e)))(n||e)},e.\u0275prov=P.Yz7({token:e,factory:function(n){return e.\u0275fac(n)}}),e;var t}(U);function J(n,e){if(1&n&&(P.TgZ(0,"ion-item"),P.TgZ(1,"ion-label"),P._uU(2),P.qZA(),P.TgZ(3,"ion-checkbox",6),P.NdJ("ngModelChange",function(n){return e.$implicit.isChecked=n}),P.qZA(),P.qZA()),2&n){var t=e.$implicit;P.xp6(2),P.Oqu(t.displayName),P.xp6(1),P.Q6J("ngModel",t.isChecked)}}function B(n,e){if(1&n){var t=P.EpF();P.ynx(0),P.TgZ(1,"ion-list"),P.YNc(2,J,4,2,"ion-item",3),P.TgZ(3,"ion-item"),P.TgZ(4,"ion-textarea",4),P.NdJ("ngModelChange",function(n){return P.CHM(t),P.oxw().text=n}),P.qZA(),P.qZA(),P.qZA(),P.TgZ(5,"ion-button",5),P.NdJ("click",function(){return P.CHM(t),P.oxw().send()}),P._uU(6,"Send notification"),P.qZA(),P.BQk()}if(2&n){var r=P.oxw();P.xp6(2),P.Q6J("ngForOf",r.users),P.xp6(2),P.Q6J("ngModel",r.text)}}function Y(n,e){1&n&&(P.TgZ(0,"div",7),P._UZ(1,"ion-spinner",8),P.qZA())}var $,D,Q=[{path:"",component:($=function(){function e(n,t,r,o){i(this,e),this.authService=n,this.afStore=t,this.fcm=r,this.platform=o,this.users=[],this.text=""}var t,r,o;return t=e,(r=[{key:"ngOnInit",value:function(){var n=this;this.getUsers(),this.platform.ready().then(function(){n.fcm.getToken().then(function(n){console.log(n)}),n.fcm.onNotification().subscribe(function(n){console.log(n),n.wasTapped?console.log("Received in background"):console.log("Received in foreground")}),n.fcm.onTokenRefresh().subscribe(function(n){console.log(n)})}),w.requestPermissions().then(function(n){"granted"===n.receive&&w.register()}),w.addListener("registration",function(n){alert("Push registration success, token: "+n.value)}),w.addListener("registrationError",function(n){alert("Error on registration: "+JSON.stringify(n))}),w.addListener("pushNotificationReceived",function(n){alert("Push received: "+JSON.stringify(n))}),w.addListener("pushNotificationActionPerformed",function(n){alert("Push action performed: "+JSON.stringify(n))})}},{key:"getUsers",value:function(){var n=this;this.afStore.collection("users").valueChanges().subscribe(function(e){n.users=e.map(function(n){return Object.assign(Object.assign({},n),{isChecked:!1})})})}},{key:"send",value:function(){if(this.users&&this.users.length){var n=this.users.filter(function(n){return n.isChecked});console.log(n,this.text)}}}])&&n(t.prototype,r),o&&n(t,o),e}(),$.\u0275fac=function(n){return new(n||$)(P.Y36(x.e),P.Y36(N.ST),P.Y36(L),P.Y36(v.t4))},$.\u0275cmp=P.Xpm({type:$,selectors:[["app-dashboard"]],decls:10,vars:2,consts:[["slot","start"],[4,"ngIf","ngIfElse"],["noData",""],[4,"ngFor","ngForOf"],["placeholder","Message",3,"ngModel","ngModelChange"],["expand","block",3,"click"],["slot","end",3,"ngModel","ngModelChange"],[1,"spinner-group"],["name","lines",1,"spinner-group__spinner"]],template:function(n,e){if(1&n&&(P.TgZ(0,"ion-header"),P.TgZ(1,"ion-toolbar"),P.TgZ(2,"ion-buttons",0),P._UZ(3,"ion-back-button"),P.qZA(),P.TgZ(4,"ion-title"),P._uU(5,"dashboard"),P.qZA(),P.qZA(),P.qZA(),P.TgZ(6,"ion-content"),P.YNc(7,B,7,2,"ng-container",1),P.YNc(8,Y,2,0,"ng-template",null,2,P.W1O),P.qZA()),2&n){var t=P.MAs(9);P.xp6(7),P.Q6J("ngIf",e.users&&e.users.length)("ngIfElse",t)}},directives:[v.Gu,v.sr,v.Sm,v.oU,v.cs,v.wd,v.W2,p.O5,v.q_,p.sg,v.Ie,v.g2,v.j9,g.JJ,g.On,v.YG,v.Q$,v.nz,v.w,v.PQ],styles:[".spinner-group[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.spinner-group__spinner[_ngcontent-%COMP%]{width:35px;height:35px}"]}),$)}],z=function(){var n=function n(){i(this,n)};return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=P.oAB({type:n}),n.\u0275inj=P.cJS({imports:[[h.Bz.forChild(Q)],h.Bz]}),n}(),H=((D=function n(){i(this,n)}).\u0275fac=function(n){return new(n||D)},D.\u0275mod=P.oAB({type:D}),D.\u0275inj=P.cJS({imports:[[p.ez,g.u5,v.Pc,z]]}),D)}}])}();